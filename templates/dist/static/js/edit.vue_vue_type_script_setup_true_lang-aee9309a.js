import{d as h,a0 as x,n as T,P as q,r as i,o as b,c as U,e,j as a,g as I,h as m,f as t,F as w,v as L,i as y}from"./index-8391854f.js";const S={class:"dialog-Wrap"},z={class:"dialog-footer"},$=h({__name:"edit",props:{selctionRow:Object,visible:Number},emits:["handleCloseVisiable","upData"],setup(E,{emit:v}){const g=E;let o=x({tenantId:1,id:"",name:"",firstLines:[{id:"cl1001",name:"cl1001"},{id:"cl1001",name:"cl1001"}],secondLines:[{id:"cl1003",name:"cl1003"},{id:"cl1004",name:"cl1004"}],redialCount:1,redialRule:{hangup_code:[],hangup_cause:[],duration:"",bill:""},noRedialRule:{hangup_code:[],hangup_cause:[],duration:"",bill:""},remarks:"",addTime:0,updateTime:0});const V=T(!!g.visible),R=r=>{V.value=!1;debugger;if(r===void 0)for(let l in o)o[l]="";else r.resetFields(),o.id="";v("handleCloseVisiable")},c=T(),C=x({name:[{required:!0,message:"线路名称不能为空",trigger:"blur"},{min:2,max:20,message:"线路名称为3～20个字符",trigger:"blur"}],caller:[{required:!0,message:"线路名称不能为空",trigger:"blur"}],dialstr:[{required:!0,message:"拨号串不能为空",trigger:"blur"}],rest:[{type:"number",required:!0,trigger:"blur",min:5,max:600,validator:(r,l,n)=>{if(!l)return n(new Error("呼叫间隔不能为空"));if(!Number.isInteger(l))return n(new Error("呼叫间隔为5～600秒之间的整数值"));if(l<5||l>600)return n(new Error("呼叫间隔为5～600秒之间的整数值"));n()}}],count:[{required:!0,message:"呼叫并发不能为空",trigger:"blur"},{type:"number",min:1,max:100,message:"呼叫并发范围为1～100",trigger:"blur"}],timeout:[{required:!0,message:"呼叫超时不能为空",trigger:"blur"},{type:"number",min:40,max:300,message:"呼叫超时范围为40～300",trigger:"blur"}]}),k=async r=>{r&&await r.validate((l,n)=>{if(l)switch(g.visible){case 1:A();debugger;R(r);break;case 2:O(),R(r);break}})},A=()=>{v("upData",o)},O=()=>{v("upData",o)};return q(()=>g.visible,(r,l)=>{if(V.value=!!r,r===1)for(let n in o)o[n]=g.selctionRow[n]}),(r,l)=>{const n=i("el-input"),_=i("el-form-item"),s=i("el-option"),f=i("el-select"),B=i("el-input-number"),p=i("el-text"),d=i("el-col"),D=i("el-form"),N=i("el-button"),F=i("el-dialog");return b(),U("div",S,[e(F,{modelValue:V.value,"onUpdate:modelValue":l[15]||(l[15]=u=>V.value=u),onClose:l[16]||(l[16]=u=>R(c.value)),title:"编辑",width:"640px","align-center":"",center:""},{footer:a(()=>[I("span",z,[e(N,{onClick:l[13]||(l[13]=u=>R(c.value))},{default:a(()=>[m("取 消")]),_:1}),e(N,{type:"primary",onClick:l[14]||(l[14]=u=>k(c.value))},{default:a(()=>[m("确 定")]),_:1})])]),default:a(()=>[e(D,{model:t(o),ref_key:"ruleFormRef",ref:c,rules:C,"label-width":"120px"},{default:a(()=>[e(_,{label:"线路组名称",prop:"name"},{default:a(()=>[e(n,{modelValue:t(o).name,"onUpdate:modelValue":l[0]||(l[0]=u=>t(o).name=u),placeholder:"请输入线路名称"},null,8,["modelValue"])]),_:1}),e(_,{label:"主线路",prop:"firstLines"},{default:a(()=>[e(f,{modelValue:t(o).firstLines,"onUpdate:modelValue":l[1]||(l[1]=u=>t(o).firstLines=u),multiple:"",placeholder:"请选择线路",style:{width:"240px"}},{default:a(()=>[(b(!0),U(w,null,L(t(o).firstLines,u=>(b(),y(s,{key:u.id,label:u.name,value:u.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"次线路",prop:"secondLines"},{default:a(()=>[e(f,{modelValue:t(o).secondLines,"onUpdate:modelValue":l[2]||(l[2]=u=>t(o).secondLines=u),multiple:"",placeholder:"请选择线路",style:{width:"240px"}},{default:a(()=>[(b(!0),U(w,null,L(t(o).secondLines,u=>(b(),y(s,{key:u.id,label:u.name,value:u.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"重呼次数",prop:"redialCount"},{default:a(()=>[e(B,{modelValue:t(o).redialCount,"onUpdate:modelValue":l[3]||(l[3]=u=>t(o).redialCount=u),"controls-position":"right"},null,8,["modelValue"])]),_:1}),e(_,{label:"重呼规则",prop:"redialRule"},{default:a(()=>[e(d,{span:12},{default:a(()=>[e(p,{class:"mx-1",size:"small"},{default:a(()=>[m("挂机状态码：")]),_:1})]),_:1}),e(d,{span:12},{default:a(()=>[e(p,{class:"mx-1",size:"small"},{default:a(()=>[m("挂机原因：")]),_:1})]),_:1}),e(d,{span:12},{default:a(()=>[e(f,{modelValue:t(o).redialRule.hangup_code,"onUpdate:modelValue":l[4]||(l[4]=u=>t(o).redialRule.hangup_code=u),multiple:"",placeholder:"请选择挂机状态码"},{default:a(()=>[e(s,{label:"200",value:"200"}),e(s,{label:"480",value:"480"}),e(s,{label:"500",value:"500"})]),_:1},8,["modelValue"])]),_:1}),e(d,{span:12},{default:a(()=>[e(f,{modelValue:t(o).redialRule.hangup_cause,"onUpdate:modelValue":l[5]||(l[5]=u=>t(o).redialRule.hangup_cause=u),multiple:"",placeholder:"请选择挂机原因"},{default:a(()=>[e(s,{label:"UNALLOCATED_NUMBER",value:"UNALLOCATED_NUMBER"}),e(s,{label:"NO_ROUTE_TRANSIT_NET",value:"NO_ROUTE_TRANSIT_NET"})]),_:1},8,["modelValue"])]),_:1}),e(d,{span:12},{default:a(()=>[e(p,{class:"mx-1"},{default:a(()=>[m("呼叫持续时间：")]),_:1})]),_:1}),e(d,{span:12},{default:a(()=>[e(p,{class:"mx-1"},{default:a(()=>[m("通话时长：")]),_:1})]),_:1}),e(d,{span:12},{default:a(()=>[e(n,{modelValue:t(o).redialRule.duration,"onUpdate:modelValue":l[6]||(l[6]=u=>t(o).redialRule.duration=u),placeholder:"请输入呼叫持续时间",style:{width:"84%"}},null,8,["modelValue"])]),_:1}),e(d,{span:12},{default:a(()=>[e(n,{modelValue:t(o).redialRule.bill,"onUpdate:modelValue":l[7]||(l[7]=u=>t(o).redialRule.bill=u),placeholder:"请输入通话时间",style:{width:"84%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(_,{label:"不重呼规则",prop:"noRedialRule"},{default:a(()=>[e(d,{span:12},{default:a(()=>[e(p,{class:"mx-1",size:"small"},{default:a(()=>[m("挂机状态码：")]),_:1})]),_:1}),e(d,{span:12},{default:a(()=>[e(p,{class:"mx-1",size:"small"},{default:a(()=>[m("挂机原因：")]),_:1})]),_:1}),e(d,{span:12},{default:a(()=>[e(f,{modelValue:t(o).noRedialRule.hangup_code,"onUpdate:modelValue":l[8]||(l[8]=u=>t(o).noRedialRule.hangup_code=u),multiple:"",placeholder:"请选择挂机状态码"},{default:a(()=>[e(s,{label:"200",value:"200"}),e(s,{label:"480",value:"480"}),e(s,{label:"500",value:"500"})]),_:1},8,["modelValue"])]),_:1}),e(d,{span:12},{default:a(()=>[e(f,{modelValue:t(o).noRedialRule.hangup_cause,"onUpdate:modelValue":l[9]||(l[9]=u=>t(o).noRedialRule.hangup_cause=u),multiple:"",placeholder:"请选择挂机原因"},{default:a(()=>[e(s,{label:"UNALLOCATED_NUMBER",value:"UNALLOCATED_NUMBER"}),e(s,{label:"NO_ROUTE_TRANSIT_NET",value:"NO_ROUTE_TRANSIT_NET"})]),_:1},8,["modelValue"])]),_:1}),e(d,{span:12},{default:a(()=>[e(p,{class:"mx-1"},{default:a(()=>[m("呼叫持续时间：")]),_:1})]),_:1}),e(d,{span:12},{default:a(()=>[e(p,{class:"mx-1"},{default:a(()=>[m("通话时长：")]),_:1})]),_:1}),e(d,{span:12},{default:a(()=>[e(n,{modelValue:t(o).noRedialRule.duration,"onUpdate:modelValue":l[10]||(l[10]=u=>t(o).noRedialRule.duration=u),placeholder:"请输入呼叫持续时间",style:{width:"84%"}},null,8,["modelValue"])]),_:1}),e(d,{span:12},{default:a(()=>[e(n,{modelValue:t(o).noRedialRule.bill,"onUpdate:modelValue":l[11]||(l[11]=u=>t(o).noRedialRule.bill=u),placeholder:"请输入通话时间",style:{width:"84%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(_,{label:"备注",prop:"remarks"},{default:a(()=>[e(n,{modelValue:t(o).remarks,"onUpdate:modelValue":l[12]||(l[12]=u=>t(o).remarks=u),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}});export{$ as _};
