import{l as o}from"./index-8391854f.js";const d=o({id:"template-info",state:()=>({templateMap:new Map,templateArr:[],thisTableDataState:{},thisTemplate:[],absentState:{},RowTreeData:{},rowStateTree:{}}),actions:{setTemplateMap(l){this.templateMap=l},setThisTemplate(l){this.thisTemplate=l},setThisTableDataState(l){this.thisTableDataState=l}}}),u=d();function p(l){const a=[],t=(n,r)=>{for(let e in n)if(!(e==="itemName"||e==="itemTitle")&&typeof n[e]=="object"&&e!=="children"){let i;i={...n[e],label:n[e].display,data:n[e],value:n[e].value,input_type:n[e].input_type},r?r.push(i):a.push(i),n[e].children&&n[e].children.length>0&&(i.children=[],t(n[e],i.children))}};return t(l),a}function f(l){const a=JSON.parse(JSON.stringify(l)),t=[];return a.forEach((n,r)=>{let e={...n,label:n.display,name:n.name,children:n.children?n.children:[],help:n.help,data:n,placeholder:n.value,value:""};r===0&&(e.itemName=""),e.data=e,e.data.value="",e.key=h(),e.children.length>0&&(e.children=f(n.children)),(e.placeholder||e.data.value)&&(e.value=e.placeholder,e.data.value=e.data.placeholder),t.push(e)}),t}function s(l){const a=JSON.parse(JSON.stringify(l)),t=[];return a.forEach((n,r)=>{let e={...n,label:n.display,name:n.name,children:n.children?n.children:[],help:n.help,data:n,placeholder:n.value,value:""};r===0&&(e.itemName=""),e.data=e,e.data.value="",e.key=h(),e.children.length>0&&(e.children=s(n.children)),t.push(e)}),t}function b(l){let a=s(u.thisTemplate);const t=p(l);return a=c(a,t),a}function c(l,a){return l.map((t,n)=>{if(a===""&&(a=[]),Array.isArray(a)){const r=a.find(e=>e.name===t.name);if(r){const e={...t,...r};return e.value=r.value,e.data=r.data,e.children=c(t.children,r.children),e}return t}})}function T(l){const a={};for(const t of l)t.children&&t.children.length>0?a[t.data.name]=T(t.children):a[t.data.name]=t.value;return a}function y(l){const a=[],t=(n,r)=>{for(let e in n){let i;i={label:e,value:typeof n[e]=="object"?"":n[e]},r?r.push(i):a.push(i),n[e]&&typeof n[e]=="object"&&(i.children=[],t(n[e],i.children))}};return t(l),a}function h(){return Math.random().toString(36).substr(2,9)}export{d as a,p as b,b as c,f as d,y as e,T as u};
