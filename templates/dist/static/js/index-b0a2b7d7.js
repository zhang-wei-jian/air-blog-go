import{useRole as I}from"./hook-b20d1d5c.js";import{A as L,D as H,P as M}from"./add-circle-line-c3a03ea3.js";import{u as p}from"./hooks-ec8eac7d.js";import{E as q}from"./edit-pen-af58ba35.js";import{d as G}from"./search-cc37b371.js";import{R as J}from"./refresh-74425c09.js";import{_ as K}from"./edit.vue_vue_type_script_setup_true_lang-289731fa.js";import{g as Q}from"./datetime-44251b57.js";import{d as W,n as x,r as i,o as X,c as Y,e as l,j as n,f as e,h as u,ax as w,_ as Z}from"./index-8391854f.js";import"./epTheme-4740f7cd.js";const ee={class:"main"},oe=W({name:"gatewayManage",__name:"index",setup(le){let g=x(null),d=x(0);const V=()=>{d.value=0},R=(t,o)=>{g.value=o,d.value=1},S=()=>{d.value=2},T=t=>{if(t!=null&&t.id){for(let o=0;o<c.value.length;o++)if(c.value[o].id===t.id){let r={};Object.assign(r,t),c.value[o]=r,w("修改成功",{type:"success"});break}}else{let o={id:"",addTime:0};Object.assign(o,t);let r=Q();o.addTime=r,o.id=r+"",c.value.unshift(o),f.total=f.total+1,w("添加成功",{type:"success"})}},{loading:b,columns:j,dataList:c,pagination:f,buttonClass:ne,onSearch:h,searchForm:s,searchFormRef:C,resetForm:D,handleDelete:F,handleSizeChange:E,handleCurrentChange:U,handleSelectionChange:$}=I();return(t,o)=>{const r=i("el-input"),_=i("el-form-item"),v=i("el-option"),z=i("el-select"),m=i("el-button"),B=i("el-form"),N=i("el-popconfirm"),O=i("pure-table");return X(),Y("div",ee,[l(B,{ref_key:"searchFormRef",ref:C,model:e(s),inline:!0,class:"bg-bg_color w-[99/100] pl-8 pt-4"},{default:n(()=>[l(_,{label:"网关名称：",prop:"name"},{default:n(()=>[l(r,{modelValue:e(s).name,"onUpdate:modelValue":o[0]||(o[0]=a=>e(s).name=a),placeholder:"请输入网关名称",clearable:"",class:"!w-[200px]"},null,8,["modelValue"])]),_:1}),l(_,{label:"网关用户名：",prop:"username"},{default:n(()=>[l(r,{modelValue:e(s).username,"onUpdate:modelValue":o[1]||(o[1]=a=>e(s).username=a),placeholder:"请输入主叫号码",clearable:"",class:"!w-[180px]"},null,8,["modelValue"])]),_:1}),l(_,{label:"注册状态：",prop:"register"},{default:n(()=>[l(z,{modelValue:e(s).register,"onUpdate:modelValue":o[2]||(o[2]=a=>e(s).register=a),placeholder:"请选择注册状态",clearable:"",class:"!w-[180px]"},{default:n(()=>[l(v,{label:"注册",value:"1"}),l(v,{label:"不注册",value:"0"})]),_:1},8,["modelValue"])]),_:1}),l(_,null,{default:n(()=>[l(m,{type:"primary",icon:e(p)(e(G)),loading:e(b),onClick:e(h)},{default:n(()=>[u(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),l(m,{icon:e(p)(e(J)),onClick:o[3]||(o[3]=a=>e(D)(e(C)))},{default:n(()=>[u(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),l(e(M),{title:"网关列表",onRefresh:e(h)},{buttons:n(()=>[l(m,{type:"primary",icon:e(p)(e(L)),onClick:S},{default:n(()=>[u(" 新增网关 ")]),_:1},8,["icon"])]),default:n(({size:a,checkList:P})=>[l(O,{border:"","align-whole":"center",showOverflowTooltip:"","table-layout":"auto",loading:e(b),size:a,data:e(c),columns:e(j),checkList:P,pagination:e(f),paginationSmall:a==="small","header-cell-style":{background:"var(--el-table-row-hover-bg-color)",color:"var(--el-text-color-primary)"},onSelectionChange:e($),onSizeChange:e(E),onCurrentChange:e(U)},{operation:n(({row:y,index:k})=>[l(m,{class:"reset-margin",link:"",type:"primary",size:a,icon:e(p)(e(q)),onClick:A=>R(k,y)},{default:n(()=>[u(" 修改 ")]),_:2},1032,["size","icon","onClick"]),l(N,{title:"是否确认删除?",onConfirm:A=>e(F)(y,k)},{reference:n(()=>[l(m,{class:"reset-margin",link:"",type:"primary",size:a,icon:e(p)(e(H))},{default:n(()=>[u(" 删除 ")]),_:2},1032,["size","icon"])]),_:2},1032,["onConfirm"])]),_:2},1032,["loading","size","data","columns","checkList","pagination","paginationSmall","header-cell-style","onSelectionChange","onSizeChange","onCurrentChange"])]),_:1},8,["onRefresh"]),l(K,{selctionRow:e(g),visible:e(d),onHandleCloseVisiable:V,onUpData:T},null,8,["selctionRow","visible"])])}}});const _e=Z(oe,[["__scopeId","data-v-f7ae8582"]]);export{_e as default};
