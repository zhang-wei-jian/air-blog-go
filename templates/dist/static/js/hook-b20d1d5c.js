import{aR as o,n as t,aC as b,a0 as l,p as M,t as y,e as v,r as W,ax as P}from"./index-8391854f.js";o(new Date).format("YYYY-MM-DD");const T=t({list:[{tenantId:1,id:"gw001",name:"网关001",realm:"120.25.38.88:5060",username:"gw001",password:"123456",caller:"18118181818",prefix:"0",codec:["PCMU","PCMA"],register:1,expireSeconds:60,addTime:1678961299821,updateTime:1678961314910},{tenantId:1,id:"gw002",name:"网关002",realm:"120.25.38.88:5060",username:"gw002",password:"123456",caller:"18118181818",prefix:"0",codec:["PCMU","PCMA"],register:1,expireSeconds:60,addTime:1678961299821,updateTime:1678961314910},{tenantId:1,id:"gw003",name:"网关003",realm:"120.25.38.88:5060",username:"gw003",password:"123456",caller:"18118181818",prefix:"025",codec:["PCMU","PCMA"],register:0,expireSeconds:60,addTime:1678961299821,updateTime:1678961314910},{tenantId:1,id:"gw004",name:"网关004",realm:"120.25.38.88:5060",username:"gw004",password:"123456",caller:"18118181818",prefix:"0",codec:["PCMU","PCMA"],register:1,expireSeconds:60,addTime:1678961299821,updateTime:1678961314910}],total:4}),S=r=>b.request("get","/api?action=GetGatewayNames",{data:r});function D(){const r=T,n=t([]),i=t(!0),a=l({total:0,pageSize:10,currentPage:1,background:!0}),d=[{type:"selection",width:55,align:"left",hide:({checkList:e})=>!e.includes("勾选列")},{label:"序号",type:"index",width:70,hide:({checkList:e})=>!e.includes("序号列")},{label:"网关编号",prop:"id",minWidth:100},{label:"网关名称",prop:"name",minWidth:120},{label:"服务器地址",prop:"realm",minWidth:180},{label:"网关用户名",prop:"username",minWidth:120},{label:"网关密码",prop:"password",minWidth:120},{label:"主叫号码",prop:"caller",minWidth:120},{label:"呼叫前缀",prop:"prefix",minWidth:120},{label:"语音编码",prop:"codec",minWidth:150},{label:"是否注册",prop:"register",minWidth:100,cellRenderer:({row:e})=>v(W("el-tag"),{type:e.register==1?"success":"info"},{default:()=>[e.register==1?"注册":"不注册"]})},{label:"创建时间",minWidth:180,prop:"createTime",formatter:({createTime:e})=>o(e).format("YYYY-MM-DD HH:mm:ss")},{label:"操作",fixed:"right",width:180,slot:"operation"}],c=M(()=>["!h-[20px]","reset-margin","!text-gray-500","dark:!text-white","dark:hover:!text-primary"]);function p(e,C){n.value.splice(C,1),a.total=a.total-1,P("删除成功",{customClass:"el",type:"success"})}function m(e){}function u(e){}function g(e){}const h=t(),f=l({name:"",caller:""});async function s(){i.value=!0;const e=r.value;n.value=e.list,a.total=e.total,i.value=!1}const w=e=>{e&&(e.resetFields(),s())},x=async()=>{await S()};return y(()=>{s(),x()}),{loading:i,columns:d,dataList:n,pagination:a,buttonClass:c,searchForm:f,searchFormRef:h,onSearch:s,resetForm:w,handleDelete:p,handleSizeChange:m,handleCurrentChange:u,handleSelectionChange:g}}export{D as useRole};
