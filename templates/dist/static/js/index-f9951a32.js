import{d as ce,av as de,U as ie,u as re,n as u,a0 as ue,r as o,o as f,c as R,e,j as t,g as a,f as n,aI as _e,h as i,F as me,v as pe,i as z,z as S,aJ as fe,aH as N,w as B,R as E,Q as ve,C as he,ay as ke,ai as we,aj as xe,_ as Ce}from"./index-8391854f.js";import{useColumns as ye}from"./hook-d488235a.js";import{u as ge}from"./DialplanExtension-9e3aa3b0.js";import"./edit-pen-af58ba35.js";import"./check-3815600c.js";import"./APIDialplanContext-cbf26d01.js";import"./browser-5e8f72a1.js";import"./index-46334353.js";const be=m=>(we("data-v-9be6cd17"),m=m(),xe(),m),De={class:"addHeader"},He={class:"headerInput"},Ie={class:"headerBtn"},Ve={class:"nenu"},Re=be(()=>a("h5",{class:""},null,-1)),ze={class:"header"},Se={class:"saveBtn"},Ne={class:"treeItemcardBox"},Be={class:"treeContent"},Ee=ce({__name:"index",setup(m){const $=ge(),{storeResultData:U,show:$e}=de($);ie();const L=re(),v=u(!1),M=u(),P=l=>{H.value=l},{namesList:T,ItemNameClickHandle:h,DataListResult:Ue,testHandle:Le,save:k,setSave:A,currentName:y,getNames:F,treeData:K,treeItemDeleteHandle:j,onItemAddTopHandle:Me,addNameHandle:O,searchNameHandle:g,form:b,deleteHandle:q,switchTreeHandle:Pe,activeCurrent:J,columns:Te,dataList:Ae,rowClickHandle:Fe,currentParent:Ke,currentRow:je,addRow:Oe,addRowChilren:qe,deleteRow:Je,moveRowDown:Qe,moveRowUp:We,autoExpand:Ge,loading:Xe,stopWatch:Ye}=ye(),D=u(!0),H=u();u("0"),F();const Q=l=>{L.push({path:"/baseoption/DialplanExtension/index",query:{name:l}})},W=()=>{D.value=!D.value};ue({pass:"",checkPass:"",age:""});const G=(l,d)=>{},X=(l,d)=>{};function Y(l,d,w){return w!=="inner"}function Z(l){return!(l.data.leave==="on"||l.data.leave==="off"||v.value===!1)}u();const ee=()=>{const l=y.value;h(l),ke.success("重置成功"),k.value=!1},te=async()=>{const l=y.value;await A(l,U.value),h(l)};return(l,d)=>{const w=o("el-input"),r=o("el-button"),I=o("el-icon"),ne=o("el-popconfirm"),le=o("el-menu-item"),oe=o("el-menu"),_=o("el-col"),V=o("el-switch"),x=o("el-card"),ae=o("el-tree"),se=o("el-row");return f(),R("div",null,[e(x,null,{default:t(()=>[e(se,null,{default:t(()=>[e(_,{span:4},{default:t(()=>[a("div",De,[a("div",He,[e(w,{modelValue:n(b).name,"onUpdate:modelValue":d[0]||(d[0]=s=>n(b).name=s),placeholder:"","placeholder-class":"input-placeholder",onInput:d[1]||(d[1]=()=>{}),onKeyup:_e(n(g),["enter"]),size:"small"},null,8,["modelValue","onKeyup"])]),a("div",Ie,[e(r,{onClick:n(g),size:"small"},{default:t(()=>[i("查找")]),_:1},8,["onClick"]),e(r,{onClick:n(O),size:"small"},{default:t(()=>[i("添加")]),_:1},8,["onClick"])])]),a("div",Ve,[e(oe,{"active-text-color":"#ffd04b","background-color":"#545c64",class:"menuclass","default-active":n(J),"text-color":"red",onOpen:G,onClose:X},{default:t(()=>[(f(!0),R(me,null,pe(n(T),(s,c)=>(f(),z(le,{index:String(c),key:s,onClick:C=>n(h)(s),onMouseenter:C=>null},{default:t(()=>[a("span",null,S(s),1),e(ne,{width:"220","confirm-button-text":"确定","cancel-button-text":"取消",icon:n(fe),"icon-color":"#626AEF",title:`确定要删除${s}吗?`,onConfirm:C=>n(q)(s)},{reference:t(()=>[e(I,{size:"small",style:{color:"red"}},{default:t(()=>[e(n(N))]),_:1})]),_:2},1032,["icon","title","onConfirm"])]),_:2},1032,["index","onClick"]))),128))]),_:1},8,["default-active"])])]),_:1}),e(_,{span:20},{default:t(()=>[Re,a("h5",ze,[e(r,{plain:"",text:"",onClick:W}),a("div",null,[i(" 开启拖动 "),e(V,{modelValue:v.value,"onUpdate:modelValue":d[2]||(d[2]=s=>v.value=s),size:"small","active-text":"","inactive-text":""},null,8,["modelValue"]),i(" 双击下面选项进入编辑 ")]),a("div",Se,[B(e(r,{onClick:ee,size:"small"},{default:t(()=>[i(" 恢复")]),_:1},512),[[E,n(k)]]),B(e(r,{onClick:te,type:"primary",size:"small"},{default:t(()=>[i(" 保存")]),_:1},512),[[E,n(k)]])])]),e(x,null,{default:t(()=>[e(ae,{data:n(K),draggable:"","allow-drop":Y,"allow-drag":Z,"empty-text":"","current-node-key":M.value},{default:t(({node:s,data:c,index:C})=>[a("div",Ne,[e(x,{class:ve(c===H.value?"active":""),onMousedown:p=>P(c),onDblclick:p=>Q(c.name)},{default:t(()=>[a("div",Be,[e(_,{span:10},{default:t(()=>[i(S(c.name)+" ",1)]),_:2},1024),e(_,{span:8},{default:t(()=>[e(V,{modelValue:c.enable,"onUpdate:modelValue":p=>c.enable=p,size:"small","active-text":"","inactive-text":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(_,{span:2},{default:t(()=>[c.invalid?(f(),z(r,{key:0,type:"danger",text:"",onClick:p=>n(j)(c)},{default:t(()=>[e(I,{size:"small"},{default:t(()=>[e(n(N))]),_:1})]),_:2},1032,["onClick"])):he("",!0)]),_:2},1024)])]),_:2},1032,["class","onMousedown","onDblclick"])])]),_:1},8,["data","current-node-key"])]),_:1})]),_:1})]),_:1})]),_:1})])}}});const ct=Ce(Ee,[["__scopeId","data-v-9be6cd17"]]);export{ct as default};
