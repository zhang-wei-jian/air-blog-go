import{d as I,a0 as _,n as w,P as M,r as s,o as P,c as R,e as l,j as t,g as S,h as c,f as n}from"./index-8391854f.js";const A={class:"dialog-Wrap"},O={class:"dialog-footer"},$=I({__name:"edit",props:{selctionRow:Object,visible:Number},emits:["handleCloseVisiable","upData"],setup(C,{emit:b}){const m=C;let o=_({tenantId:1,id:"",name:"",realm:"",username:"",password:"",caller:"",prefix:"",codec:[],register:0,expireSeconds:60,addTime:0,updateTime:0});const p=w(!!m.visible),f=r=>{p.value=!1;debugger;if(r===void 0)for(let e in o)o[e]="";else r.resetFields(),o.id="";b("handleCloseVisiable")},V=w(),U=_({name:[{required:!0,message:"网关名称不能为空",trigger:"blur"},{min:2,max:20,message:"网关名称为3～20个字符",trigger:"blur"}],realm:[{required:!0,message:"服务器地址不能为空",trigger:"blur"}],username:[{required:!0,message:"网关用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"网关密码不能为空",trigger:"blur"}],caller:[{required:!0,message:"线路名称不能为空",trigger:"blur"}]}),k=async r=>{r&&await r.validate((e,d)=>{if(e)switch(m.visible){case 1:x(),f(r);break;case 2:F(),f(r);break}})},x=()=>{b("upData",o)},F=()=>{b("upData",o)};return M(()=>m.visible,(r,e)=>{if(p.value=!!r,r===1)for(let d in o)o[d]=m.selctionRow[d]}),(r,e)=>{const d=s("el-input"),u=s("el-form-item"),i=s("el-option"),g=s("el-select"),y=s("IconifyIconOffline"),D=s("el-collapse-item"),N=s("el-collapse"),q=s("el-form"),v=s("el-button"),B=s("el-dialog");return P(),R("div",A,[l(B,{modelValue:p.value,"onUpdate:modelValue":e[12]||(e[12]=a=>p.value=a),onClose:e[13]||(e[13]=a=>f(V.value)),title:"编辑",width:"640px","align-center":"",center:""},{footer:t(()=>[S("span",O,[l(v,{onClick:e[10]||(e[10]=a=>f(V.value))},{default:t(()=>[c("取 消")]),_:1}),l(v,{type:"primary",onClick:e[11]||(e[11]=a=>k(V.value))},{default:t(()=>[c("确 定")]),_:1})])]),default:t(()=>[l(q,{model:n(o),ref_key:"ruleFormRef",ref:V,rules:U,"label-width":"120px"},{default:t(()=>[l(u,{label:"网关名称",prop:"name"},{default:t(()=>[l(d,{modelValue:n(o).name,"onUpdate:modelValue":e[0]||(e[0]=a=>n(o).name=a),placeholder:"请输入网关名称"},null,8,["modelValue"])]),_:1}),l(u,{label:"服务器地址",prop:"realm"},{default:t(()=>[l(d,{modelValue:n(o).realm,"onUpdate:modelValue":e[1]||(e[1]=a=>n(o).realm=a),placeholder:"请输入服务器地址"},null,8,["modelValue"])]),_:1}),l(u,{label:"网关用户名",prop:"username"},{default:t(()=>[l(d,{modelValue:n(o).username,"onUpdate:modelValue":e[2]||(e[2]=a=>n(o).username=a),placeholder:"请输入网关用户名"},null,8,["modelValue"])]),_:1}),l(u,{label:"网关密码",prop:"password"},{default:t(()=>[l(d,{modelValue:n(o).password,"onUpdate:modelValue":e[3]||(e[3]=a=>n(o).password=a),placeholder:"请输入网关密码"},null,8,["modelValue"])]),_:1}),l(u,{label:"主叫号码",prop:"caller"},{default:t(()=>[l(d,{modelValue:n(o).caller,"onUpdate:modelValue":e[4]||(e[4]=a=>n(o).caller=a),placeholder:"请输入主叫号码"},null,8,["modelValue"])]),_:1}),l(u,{label:"呼叫前缀",prop:"caller"},{default:t(()=>[l(d,{modelValue:n(o).prefix,"onUpdate:modelValue":e[5]||(e[5]=a=>n(o).prefix=a),placeholder:"请输入呼叫前缀"},null,8,["modelValue"])]),_:1}),l(u,{label:"音频编码"},{default:t(()=>[l(g,{modelValue:n(o).codec,"onUpdate:modelValue":e[6]||(e[6]=a=>n(o).codec=a),placeholder:"自动协商",multiple:""},{default:t(()=>[l(i,{label:"PCMU",value:"PCMU"}),l(i,{label:"PCMA",value:"PCMA"}),l(i,{label:"G729",value:"G729"})]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"是否注册"},{default:t(()=>[l(g,{modelValue:n(o).register,"onUpdate:modelValue":e[7]||(e[7]=a=>n(o).register=a),placeholder:"请选择注册状态"},{default:t(()=>[l(i,{label:"注册",value:"1"}),l(i,{label:"不注册",value:"0"})]),_:1},8,["modelValue"])]),_:1}),l(N,{accordion:"",modelValue:r.activeNames,"onUpdate:modelValue":e[9]||(e[9]=a=>r.activeNames=a),onChange:r.handleChange},{default:t(()=>[l(D,{name:"1"},{title:t(()=>[c(" 更多参数设置 "),l(y,{icon:r.More},null,8,["icon"])]),default:t(()=>[l(u,{label:"注册过期时间"},{default:t(()=>[l(d,{modelValue:n(o).expireSeconds,"onUpdate:modelValue":e[8]||(e[8]=a=>n(o).expireSeconds=a),placeholder:"请输入注册过期时间"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","onChange"])]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}});export{$ as _};
