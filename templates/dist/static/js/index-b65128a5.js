import{d as H,b as Y,w as z,af as ee,a0 as O,A as C,a1 as I,u as oe,n as L,D as ae,aT as ne,t as te,a9 as le,r as s,c as se,g as i,e as o,f as e,K as ie,j as a,o as re,x as Z,Q as A,R as T,h as U,z as M,ai as de,aj as ce,bm as N,a6 as j,ax as ue,_ as pe}from"./index-8391854f.js";import{f as me,b as _e,u as fe,a as ge,d as he,c as ve,g as ye}from"./dark-a21ab463.js";import{u as v}from"./hooks-ec8eac7d.js";import{d as F}from"./check-3815600c.js";import"./epTheme-4740f7cd.js";import"./app-d541800c.js";const we=""+new URL("../jpg/ccadminLogo-466339f8.jpg",import.meta.url).href,m=H({name:"Motion",props:{delay:{type:Number,default:50}},render(){const{delay:d}=this,c=Y("motion");return z(ee("div",{},{default:()=>[this.$slots.default()]}),[[c,{initial:{opacity:0,y:100},enter:{opacity:1,y:0,transition:{delay:d}}}]])}}),xe=/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)]|[()])+$)(?!^.*[\u4E00-\u9FA5].*$)([^(0-9a-zA-Z)]|[()]|[a-z]|[A-Z]|[0-9]){8,18}$/,Ve=O({password:[{validator:(d,c,r)=>{c===""?r(new Error(C(I("login.passwordReg")))):xe.test(c)?r():r(new Error(C(I("login.passwordRuleReg"))))},trigger:"blur"}]}),x={width:24,height:24,body:'<path fill="currentColor" d="M19 10h1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V11a1 1 0 0 1 1-1h1V9a7 7 0 0 1 14 0v1Zm-2 0V9A5 5 0 0 0 7 9v1h10Zm-6 4v4h2v-4h-2Z"/>'},ke={width:24,height:24,body:'<path fill="currentColor" d="M20 22H4v-2a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v2Zm-8-9a6 6 0 1 1 0-12a6 6 0 0 1 0 12Z"/>'},P=d=>(de("data-v-0e3cf217"),d=d(),ce(),d),be={class:"select-none"},Ue={class:"flex-c absolute right-5 top-3"},ze={class:"check-en"},Ce={class:"login-container"},Ie=P(()=>i("div",{class:"img"},null,-1)),Be={class:"login-box"},Re={class:"login-form"},Se=P(()=>i("div",{class:"imgBox"},[i("img",{src:we,alt:""})],-1)),$e={class:"outline-none"},Ee=H({name:"Login",__name:"index",setup(d){const c=oe(),r=L(!1),V=L(),{initStorage:q}=me();q();const{t:y}=ae(),{dataTheme:k,dataThemeChange:B}=_e();B();const{title:G,getDropdownItemStyle:R,getDropdownItemClass:S}=fe(),{locale:_,translationCh:K,translationEn:Q}=ge(),$=ne(),t=O({username:"admin",password:"admin123",BaseUrl:localStorage.getItem("baseURL"),key:"abc",organization:"",inactivity:"",expire:""}),E=async u=>{r.value=!0,u&&await u.validate(async(n,p)=>{if(n){const f={...t};try{await $.loginByBaseUrl(f)&&N().then(()=>{c.push(j(!0).path),ue("登录成功",{type:"success"}),$.loginByUsername({username:t.username,password:"admin123"}).then(b=>{b.success&&N().then(()=>{c.push(j(!0).path)})})})}catch{return alert("请求错误，请检查地址"),r.value=!1,p}}else return r.value=!1,p})};function D({code:u}){u==="Enter"&&E(V.value)}return te(()=>{if(window.document.addEventListener("keypress",D),t.BaseUrl===""||t.BaseUrl===null){var u=window.location.protocol,n=window.location.hostname,p=window.location.port,f=u+"//"+n+(p?":"+p:"");t.BaseUrl=f}}),le(()=>{window.document.removeEventListener("keypress",D)}),(u,n)=>{const p=s("el-switch"),f=s("IconifyIconOffline"),w=s("el-dropdown-item"),b=s("el-dropdown-menu"),W=s("el-dropdown"),g=s("el-input"),h=s("el-form-item"),X=s("el-button"),J=s("el-form");return re(),se("div",be,[i("div",Ue,[o(p,{modelValue:e(k),"onUpdate:modelValue":n[0]||(n[0]=l=>ie(k)?k.value=l:null),"inline-prompt":"","active-icon":e(he),"inactive-icon":e(ve),onChange:e(B)},null,8,["modelValue","active-icon","inactive-icon","onChange"]),o(W,{trigger:"click"},{dropdown:a(()=>[o(b,{class:"translation"},{default:a(()=>[o(w,{style:Z(e(R)(e(_),"zh")),class:A(["dark:!text-white",e(S)(e(_),"zh")]),onClick:e(K)},{default:a(()=>[z(o(f,{class:"check-zh",icon:e(F)},null,8,["icon"]),[[T,e(_)==="zh"]]),U(" 简体中文 ")]),_:1},8,["style","class","onClick"]),o(w,{style:Z(e(R)(e(_),"en")),class:A(["dark:!text-white",e(S)(e(_),"en")]),onClick:e(Q)},{default:a(()=>[z(i("span",ze,[o(f,{icon:e(F)},null,8,["icon"])],512),[[T,e(_)==="en"]]),U(" English ")]),_:1},8,["style","class","onClick"])]),_:1})]),default:a(()=>[o(e(ye),{class:"hover:text-primary hover:!bg-[transparent] w-[20px] h-[20px] ml-1.5 cursor-pointer outline-none duration-300"})]),_:1})]),i("div",Ce,[Ie,i("div",Be,[i("div",Re,[Se,o(e(m),null,{default:a(()=>[i("h2",$e,M(e(G)),1)]),_:1}),o(J,{ref_key:"ruleFormRef",ref:V,model:t,rules:e(Ve),size:"large"},{default:a(()=>[o(e(m),{delay:100},{default:a(()=>[o(h,{rules:[{required:!0,message:e(C)(e(I)("login.usernameReg")),trigger:"blur"}],prop:"username"},{default:a(()=>[o(g,{clearable:"",modelValue:t.BaseUrl,"onUpdate:modelValue":n[1]||(n[1]=l=>t.BaseUrl=l),placeholder:e(y)("login.url"),"prefix-icon":e(v)(e(ke))},null,8,["modelValue","placeholder","prefix-icon"])]),_:1},8,["rules"])]),_:1}),o(e(m),{delay:150},{default:a(()=>[o(h,{prop:"password"},{default:a(()=>[o(g,{clearable:"","show-password":"",modelValue:t.key,"onUpdate:modelValue":n[2]||(n[2]=l=>t.key=l),placeholder:e(y)("login.key"),"prefix-icon":e(v)(e(x))},null,8,["modelValue","placeholder","prefix-icon"])]),_:1})]),_:1}),o(e(m),{delay:150},{default:a(()=>[o(h,null,{default:a(()=>[o(g,{clearable:"",modelValue:t.organization,"onUpdate:modelValue":n[3]||(n[3]=l=>t.organization=l),placeholder:e(y)("login.organization"),"prefix-icon":e(v)(e(x))},null,8,["modelValue","placeholder","prefix-icon"])]),_:1})]),_:1}),o(e(m),{delay:150},{default:a(()=>[o(h,null,{default:a(()=>[o(g,{clearable:"",modelValue:t.inactivity,"onUpdate:modelValue":n[4]||(n[4]=l=>t.inactivity=l),placeholder:"保持时间 ","prefix-icon":e(v)(e(x))},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1}),o(e(m),{delay:150},{default:a(()=>[o(h,null,{default:a(()=>[o(g,{clearable:"",modelValue:t.expire,"onUpdate:modelValue":n[5]||(n[5]=l=>t.expire=l),placeholder:"过期时间","prefix-icon":e(v)(e(x))},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1}),o(e(m),{delay:250},{default:a(()=>[o(X,{class:"w-full mt-4",size:"default",type:"primary",loading:r.value,onClick:n[6]||(n[6]=l=>E(V.value))},{default:a(()=>[U(M(e(y)("login.login")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])])])}}});const Ne=pe(Ee,[["__scopeId","data-v-0e3cf217"]]);export{Ne as default};
