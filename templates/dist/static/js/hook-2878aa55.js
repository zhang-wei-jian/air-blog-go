import{n as k,aw as T,p as m,e as t,w as p,R as s,aa as C,r as i,ax as j,aB as O}from"./index-8391854f.js";import{E as M}from"./edit-pen-af58ba35.js";import{d as I}from"./check-3815600c.js";import{a as P,r as E}from"./SipTemplate-ceaddbd7.js";function $(){let S=[{name:"description",restor:!0,display:"描述",editable:!0,type:"string",children:[{id:11,name:"number-alias",restor:!0,display:"别名",input_candidate:"",input_type:"string",input_filter:"wav(*.wav)",editable:!0,type:"string",value:""},{id:12,name:"rest",display:"休息时间",value:"1",type:"number"},{id:13,name:"fault_threshold",display:"失败阈值",value:"1",type:"number"},{id:14,name:"fault_try_interval",display:"重试间隔",value:"1",type:"number"},{id:15,name:"dialstring",display:"拨号串",value:"1",type:"string"}]},{id:2,name:"variables",display:"变量",value:"",type:"object",children:[{id:21,name:"origination_caller_id_number",display:"主叫号码",value:"",type:"string"},{id:22,name:"absolute_codec_string",display:"声音编码",value:"PCMU,PCMA,G729",type:"string"},{id:23,name:"originate_timeout",display:"呼叫超时",value:"60",type:"number"},{id:24,name:"ignore_early_media",display:"忽略彩铃",value:"",type:"boolean"},{id:25,name:"employee_id",display:"座席工号",value:"",type:"string"},{id:25,name:"employee_id",display:"座席工号",value:"",type:"string"},{id:26,name:"bill_least1s",display:"最少计费1秒",value:"",type:"boolean"},{id:27,name:"bill_round",display:"每秒计费精度",value:"",type:"integer"},{id:28,name:"bill_round_minute",display:"按分钟上浮",value:"",type:"integer"}]}];async function R(){const l=await P();V.value=l.result.SipTemplate.children}const y=k({}),f=k({}),o=k(-1),v=k(""),V=k(T(S,!0));R();const c=m(()=>(l,e)=>{var a;return(a=y.value[l])==null?void 0:a[e]}),r=m(()=>(l,e)=>{var a,u;return((a=f.value[l])==null?void 0:a.editing)&&e.property===((u=f.value[l])==null?void 0:u.prop)}),n=m(()=>(l,e,a=!1)=>["cursor-pointer","ml-2","transition","delay-100",a?["hover:scale-110","hover:text-red-500"]:r.value(l,e)&&["scale-150","text-red-500"]]);m(()=>(l,e)=>["flex-bc","w-full","h-[32px]",l.hasChildren?["hover:scale-110","hover:text-red-500"]:[""]]);const U=[{label:"编号",prop:"id",hide:function(){return!0},cellRenderer:({row:l,index:e,column:a})=>t("div",{class:"flex-bc h-[32px]",style:" display:inline-flex;",onMouseenter:()=>b(l,e,a),onMouseleave:()=>d(e)},[p(t("p",null,[l[a.property]]),[[s,!r.value(e,a)]]),t(C,{"enter-active-class":"animate__animated animate__fadeInUp animate__faster"},{default:()=>[p(t(i("el-input"),{modelValue:c.value(e,a.property),onInput:u=>h(u,e,a.property)},null),[[s,r.value(e,a)]])]}),p(t(i("iconify-icon-offline"),{icon:I,class:n.value(e,a),onClick:()=>g(e,l,a.property)},null),[[s,r.value(e,a)]]),p(t(i("iconify-icon-offline"),{icon:M,class:n.value(e,!0),onClick:()=>_(l,e,a)},null),[[s,o.value===e&&!r.value(e,a)&&v.value===a.property]])])},{label:"参数字段",prop:"name",width:"360",fixed:!0,cellRenderer:({row:l,index:e,column:a})=>t("div",{class:"flex-bc h-[32px]",style:" display:inline-flex;",onMouseenter:()=>b(l,e,a),onMouseleave:()=>d(e)},[p(t("p",null,[l[a.property]]),[[s,!r.value(e,a)]]),t(C,{"enter-active-class":"animate__animated animate__fadeInUp animate__faster"},{default:()=>[p(t(i("el-input"),{modelValue:c.value(e,a.property),onInput:u=>h(u,e,a.property)},null),[[s,r.value(e,a)]])]}),p(t(i("iconify-icon-offline"),{icon:I,class:n.value(e,a),onClick:()=>g(e,l,a.property)},null),[[s,r.value(e,a)]]),p(t(i("iconify-icon-offline"),{icon:M,class:n.value(e,!0),onClick:()=>_(l,e,a)},null),[[s,o.value===e&&!r.value(e,a)&&v.value===a.property]])])},{label:"参数名称",prop:"display",cellRenderer:({row:l,index:e,column:a})=>t("div",{class:"flex-bc w-full h-[32px]",onMouseenter:()=>b(l,e,a),onMouseleave:()=>d(e)},[p(t("p",null,[l[a.property]]),[[s,!r.value(e,a)]]),t(C,{"enter-active-class":"animate__animated animate__fadeInUp animate__faster"},{default:()=>[p(t(i("el-input"),{modelValue:c.value(e,a.property),onInput:u=>h(u,e,a.property)},null),[[s,r.value(e,a)]])]}),p(t(i("iconify-icon-offline"),{icon:I,class:n.value(e,a),onClick:()=>g(e,l,a.property)},null),[[s,r.value(e,a)]]),p(t(i("iconify-icon-offline"),{icon:M,class:n.value(e,!0),onClick:()=>_(l,e,a)},null),[[s,o.value===e&&!r.value(e,a)&&v.value===a.property]])])},{label:"类型",prop:"type",cellRenderer:({row:l,index:e,column:a})=>t("div",{class:"flex-bc w-full h-[32px]",onMouseenter:()=>b(l,e,a),onMouseleave:()=>d(e)},[p(t("p",null,[l[a.property]]),[[s,!r.value(e,a)]]),t(C,{"enter-active-class":"animate__animated animate__fadeInUp animate__faster"},{default:()=>[p(t(i("el-input"),{modelValue:c.value(e,a.property),onInput:u=>h(u,e,a.property)},null),[[s,r.value(e,a)]])]}),p(t(i("iconify-icon-offline"),{icon:I,class:n.value(e,a),onClick:()=>g(e,l,a.property)},null),[[s,r.value(e,a)]]),p(t(i("iconify-icon-offline"),{icon:M,class:n.value(e,!0),onClick:()=>_(l,e,a)},null),[[s,o.value===e&&!r.value(e,a)&&v.value===a.property]])])},{label:"help",prop:"help",cellRenderer:({row:l,index:e,column:a})=>t("div",{class:"flex-bc w-full h-[32px]",onMouseenter:()=>b(l,e,a),onMouseleave:()=>d(e)},[p(t("p",null,[l[a.property]]),[[s,!r.value(e,a)]]),t(C,{"enter-active-class":"animate__animated animate__fadeInUp animate__faster"},{default:()=>[p(t(i("el-input"),{modelValue:c.value(e,a.property),onInput:u=>h(u,e,a.property)},null),[[s,r.value(e,a)]])]}),p(t(i("iconify-icon-offline"),{icon:I,class:n.value(e,a),onClick:()=>g(e,l,a.property)},null),[[s,r.value(e,a)]]),p(t(i("iconify-icon-offline"),{icon:M,class:n.value(e,!0),onClick:()=>_(l,e,a)},null),[[s,o.value===e&&!r.value(e,a)&&v.value===a.property]])])},{label:"默认值",prop:"value",cellRenderer:({row:l,index:e,column:a})=>t("div",{class:"flex-bc w-full h-[32px]",onMouseenter:()=>b(l,e,a),onMouseleave:()=>d(e)},[p(t("p",null,[l[a.property]]),[[s,!r.value(e,a)]]),t(C,{"enter-active-class":"animate__animated animate__fadeInUp animate__faster"},{default:()=>[p(t(i("el-input"),{modelValue:c.value(e,a.property),onInput:u=>h(u,e,a.property)},null),[[s,r.value(e,a)]])]}),p(t(i("iconify-icon-offline"),{icon:I,class:n.value(e,a),onClick:()=>g(e,l,a.property)},null),[[s,r.value(e,a)]]),p(t(i("iconify-icon-offline"),{icon:M,class:n.value(e,!0),onClick:()=>_(l,e,a)},null),[[s,o.value===e&&!r.value(e,a)&&v.value===a.property]])])}];function _(l,e,a){y.value[e]=Object.assign({},y.value[e],{[a.property]:l[a.property]}),f.value[e]=Object.assign({},f.value[e],{editing:!0,prop:a.property})}function b(l,e,a){o.value=e,v.value=a.property}function d(l){var e;v.value="",(e=y.value[l])!=null&&e.value?o.value=l:o.value=-1}function h(l,e,a){y.value[e][a]=l}function g(l,e,a){e[a]=y.value[l][a];try{E(V.value)}catch{}j(`您编辑了第 ${l+1} 行，编辑后数据为：${JSON.stringify(e)}`,{type:"success"}),f.value[l]=Object.assign({},f.value[l],{editing:!1,prop:""}),O().then(()=>y.value[l].value=null)}return{columns:U,dataList:V}}export{$ as useColumns};
