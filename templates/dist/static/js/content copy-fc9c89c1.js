import{d as re,aD as ue,av as pe,a0 as I,n as ee,P as ce,r as g,o as U,c as B,h as le,z as me,f as l,e,j as a,Q as E,X as N,g as p,w as v,aE as H,R as b,aF as j,aG as z,aH as T,F as K,v as G,i as ae,ai as fe,aj as $e,_ as ve}from"./index-8391854f.js";import{u as be}from"./DialplanExtension-9e3aa3b0.js";const x=C=>(fe("data-v-833eae2e"),C=C(),$e(),C),ge={class:"nowarp condition"},he={class:"zhedie"},ye=x(()=>p("h4",null,"condition",-1)),xe=x(()=>p("span",null,null,-1)),ke={class:"requireRight"},Ve={class:"baseLine"},we=x(()=>p("span",null,"regex",-1)),Ue={class:"treeItem"},ze={class:"cardItemRight"},Ce=x(()=>p("div",{class:"nowarp"},null,-1)),Fe={class:"baseLine"},Be=x(()=>p("span",null,"action",-1)),Se={class:"treeItem"},qe={class:"cardItemRight"},Pe=x(()=>p("div",null,null,-1)),Re={class:"baseLine"},De=x(()=>p("span",null,"anti-action",-1)),Me={class:"treeItem"},Le={class:"cardItemRight"},Oe=x(()=>p("div",{class:"nowarp"},null,-1)),Ee=re({__name:"content copy",props:["data","dataIdex","dataKey","allShow"],setup(C){const te=C,{data:Ne,dataIdex:He,dataKey:i,allShow:A}=ue(te),oe=be(),{storeResultData:o,currentActiveItem:F,allInputFocus:Q}=pe(oe),S=I({name:[{required:!0,message:"Please input Activity name",trigger:"blur"},{min:3,max:5,message:"Length should be 3 to 5",trigger:"blur"}]}),X=I({pass:"",checkPass:"",age:""}),ne=["*** regex ***","regex","*** call...file ***","destination_number","network_addr","caller_id_number","caller_id_name","orig_caller_id_number","orig_caller_id_name","callee_id_number","callee_id_name","username","dialplan","ani","aniii","rdnis","uuid","source","transfer_source","context","chan_name","profile_index","caller_ton","caller_numplan","destination_number_ton","destination_number_numplan","ani_ton","ani_numplan","rdnis_ton","rdnis_numplan","screen_bit","privacy_hide_name","privacy_hide_number","profile_created_time","created_time","answered_time","progress_time","progress_media_time","hungup_time","transferred_time","*** Built In ***","date-time","time-of-day","year","mon","mday","hour","minute","wday","week","mweek","yday","minday","tz-offset","dst","*** Cha...Les ***","${state}","${state_number}","${channel_name}","${direction}","${read_codec}","${read_rate}","${write_codec}","${write_rate}","${mailbox}","${user_name}","${domain_name}","${record_stereo}","${accountcode}","${user_context}","${effective_caller_id_name}","${effective_caller_id_number}","${caller_domain}","${sip_received_ip}","${sip_received_port}","${sip_authorized}","${sip_mailbox}","${sip_auth_username}","${sip_auth_realm}","${sip_from_user}","${sip_from_uri}","${sip_from_host}","${sip_from_user_stripped}","${sip_from_tag}","${sofia_profile_name}","${sofia_profile_domain_name}","${sip_full_route}","${sip_full_via}","${sip_full_from}","${sip_full_to}","${sip_req_params}","${sip_req_user}","${sip_req_uri}","${sip_req_host}","${sip_to_params}","${sip_to_tag}","${sip_to_user}","${sip_to_uri}","${sip_to_host}","${sip_contact_params}","${sip_contact_user}","${sip_contact_port}","${sip_contact_uri}","${sip_contact_host}","${sip_invite_domain}","${sip_call_id}","${sip_user_agent}","${sip_via_host}","${sip_via_port}","${sip_via_rport}","${presence_id}","${sip_h_p-key-flags}","${switch_r_sdp}","${sip_redirect_contact_user_0}","${sip_redirect_contact_host_0}","${sip_h_referred-by}","${sip_refer_to}","${remote_media_ip}","${remote_media_port}","${endpoint_disposition}","${dialed_ext}","${transfer_ringback}","${call_timeout}","${hangup_after_bridge}","${continue_on_fail}","${dialed_user}","${dialed_domain}","${originate_disposition}","${use_profile}","${current_application}"],ie=["*** call...file ***","destination_number","network_addr","caller_id_number","caller_id_name","orig_caller_id_number","orig_caller_id_name","callee_id_number","callee_id_name","username","dialplan","ani","aniii","rdnis","uuid","source","transfer_source","context","chan_name","profile_index","caller_ton","caller_numplan","destination_number_ton","destination_number_numplan","ani_ton","ani_numplan","rdnis_ton","rdnis_numplan","screen_bit","privacy_hide_name","privacy_hide_number","profile_created_time","created_time","answered_time","progress_time","progress_media_time","hungup_time","transferred_time","*** Built In ***","date-time","time-of-day","year","mon","mday","hour","minute","wday","week","mweek","yday","minday","tz-offset","dst","*** Cha...Les ***","${state}","${state_number}","${channel_name}","${direction}","${read_codec}","${read_rate}","${write_codec}","${write_rate}","${mailbox}","${user_name}","${domain_name}","${record_stereo}","${accountcode}","${user_context}","${effective_caller_id_name}","${effective_caller_id_number}","${caller_domain}","${sip_received_ip}","${sip_received_port}","${sip_authorized}","${sip_mailbox}","${sip_auth_username}","${sip_auth_realm}","${sip_from_user}","${sip_from_uri}","${sip_from_host}","${sip_from_user_stripped}","${sip_from_tag}","${sofia_profile_name}","${sofia_profile_domain_name}","${sip_full_route}","${sip_full_via}","${sip_full_from}","${sip_full_to}","${sip_req_params}","${sip_req_user}","${sip_req_uri}","${sip_req_host}","${sip_to_params}","${sip_to_tag}","${sip_to_user}","${sip_to_uri}","${sip_to_host}","${sip_contact_params}","${sip_contact_user}","${sip_contact_port}","${sip_contact_uri}","${sip_contact_host}","${sip_invite_domain}","${sip_call_id}","${sip_user_agent}","${sip_via_host}","${sip_via_port}","${sip_via_rport}","${presence_id}","${sip_h_p-key-flags}","${switch_r_sdp}","${sip_redirect_contact_user_0}","${sip_redirect_contact_host_0}","${sip_h_referred-by}","${sip_refer_to}","${remote_media_ip}","${remote_media_port}","${endpoint_disposition}","${dialed_ext}","${transfer_ringback}","${call_timeout}","${hangup_after_bridge}","${continue_on_fail}","${dialed_user}","${dialed_domain}","${originate_disposition}","${use_profile}","${current_application}"],se=["any","all","xor"],de=["on-false","on-true","allways","never"];function J(_,t,u){return u!=="inner"}function W(_){return!Q.value}const d=ee({description:!0,condition:!0,regex:!0,action:!0,"anti-action":!0}),_e=_=>{_.preventDefault()};function k(_,t,u){if(typeof u=="number"&&u>=0){_.splice(u+1,0,{});return}if(t==="condition"){if(d.value.condition=!0,!_){u.condition=[{}];return}_.push({"require-nested":!0,break:"on-true"})}if(t==="regex"){if(d.value.regex=!0,!_){u.regex=[{}];return}_.push({})}if(t==="action"){if(d.value.action=!0,!_){u.action=[{}];return}_.push({})}if(t==="anti-action"){if(d.value["anti-action"]=!0,!_){u["anti-action"]=[{}];return}_.push({})}}function q(_,t,u){u===void 0&&(u=_.indexOf(t)),_===o.value.condition&&o.value.condition.splice(u,1),_.splice(u,1)}ee();function Y(_,t){return _.findIndex(u=>u===t)}ce(A,()=>{A.value?Object.keys(d.value).forEach(t=>{d.value[t]=!0}):Object.keys(d.value).forEach(t=>{d.value[t]=!1})});const P=_=>{F.value=_},V=()=>{Q.value=!0},w=()=>{Q.value=!1};return(_,t)=>{const u=g("el-row"),f=g("el-icon"),c=g("el-col"),h=g("el-button"),R=g("el-switch"),m=g("el-form-item"),y=g("el-input"),D=g("el-option"),M=g("el-select"),L=g("el-form"),O=g("el-card"),Z=g("el-tree");return U(),B("div",null,[le(me(l(o))+" ",1),e(c,{span:20},{default:a(()=>[e(O,{class:E(l(o).condition[l(i)]===l(F)?"active":""),onMousedown:t[15]||(t[15]=N(s=>P(l(o).condition[l(i)]),["stop"]))},{default:a(()=>[p("div",ge,[e(u,{gutter:20}),e(c,{span:2},{default:a(()=>[p("div",he,[ye,p("div",{onClick:t[0]||(t[0]=s=>d.value.condition=!d.value.condition)},[xe,le(),e(f,null,{default:a(()=>[v(e(l(H),null,null,512),[[b,!d.value.condition]]),v(e(l(j),null,null,512),[[b,d.value.condition]])]),_:1})])])]),_:1}),e(c,{span:2,class:"conditionIcon"},{default:a(()=>[e(h,{type:"primary",plain:"",text:"",class:"",size:"small"},{default:a(()=>[e(f,{size:"small",onClick:t[1]||(t[1]=s=>k(l(o).condition,"regex",l(i)))},{default:a(()=>[e(l(z))]),_:1})]),_:1}),e(h,{type:"danger",plain:"",text:"",class:"",size:"small"},{default:a(()=>[e(f,{size:"small",onClick:t[2]||(t[2]=s=>q(l(o).condition,l(o).condition[l(i)]))},{default:a(()=>[e(l(T))]),_:1})]),_:1})]),_:1}),e(c,{span:4},{default:a(()=>[p("div",ke,[e(m,{label:"require-nested",prop:"checkPass"},{default:a(()=>[e(R,{modelValue:l(o).condition[l(i)]["require-nested"],"onUpdate:modelValue":t[3]||(t[3]=s=>l(o).condition[l(i)]["require-nested"]=s),class:"ml-2"},null,8,["modelValue"])]),_:1})])]),_:1}),e(c,{span:16},{default:a(()=>[e(m,{label:"description",prop:"checkPass"},{default:a(()=>[e(y,{modelValue:l(o).condition[l(i)].description,"onUpdate:modelValue":t[4]||(t[4]=s=>l(o).condition[l(i)].description=s),type:"text",autocomplete:"off",onFocus:V,onBlur:w},null,8,["modelValue"])]),_:1})]),_:1})]),v(e(L,{ref:"ruleFormRef","status-icon":"",rules:S,"label-width":"",class:"conditionTop"},{default:a(()=>[e(u,{gutter:20,class:"condition conditionTop"},{default:a(()=>[e(c,{span:6},{default:a(()=>[e(m,{label:"field"},{default:a(()=>[e(M,{modelValue:l(o).condition[l(i)].field,"onUpdate:modelValue":t[5]||(t[5]=s=>l(o).condition[l(i)].field=s),placeholder:"Select"},{default:a(()=>[(U(),B(K,null,G(ne,s=>e(D,{key:s,label:s,value:s},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(c,{span:12,style:{paddingRight:"10px"}},{default:a(()=>[e(m,{label:"expression",prop:"checkPass"},{default:a(()=>[l(o).condition[l(i)].field!=="regex"?(U(),ae(y,{key:0,modelValue:l(o).condition[l(i)].expression,"onUpdate:modelValue":t[6]||(t[6]=s=>l(o).condition[l(i)].expression=s),type:"text",autocomplete:"off"},null,8,["modelValue"])):(U(),ae(M,{key:1,modelValue:l(o).condition[l(i)].expression,"onUpdate:modelValue":t[7]||(t[7]=s=>l(o).condition[l(i)].expression=s),placeholder:"Select"},{default:a(()=>[(U(),B(K,null,G(se,s=>e(D,{key:s,label:s,value:s},null,8,["label","value"])),64))]),_:1},8,["modelValue"]))]),_:1})]),_:1}),e(c,{span:6},{default:a(()=>[e(m,{label:"break",prop:"checkPass",class:"breakFormItem"},{default:a(()=>[e(M,{modelValue:l(o).condition[l(i)].break,"onUpdate:modelValue":t[8]||(t[8]=s=>l(o).condition[l(i)].break=s),placeholder:"Select"},{default:a(()=>[(U(),B(K,null,G(de,s=>e(D,{key:s,label:s,value:s},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),v(p("div",null,[p("div",Ve,[we,e(f,{onClick:t[9]||(t[9]=s=>d.value.regex=!d.value.regex)},{default:a(()=>[v(e(l(H),null,null,512),[[b,!d.value.regex]]),v(e(l(j),null,null,512),[[b,d.value.regex]])]),_:1}),e(h,{type:"primary",plain:"",text:"",class:"labelAdd",onClick:t[10]||(t[10]=s=>k(l(o).condition[l(i)].regex,"regex",l(o).condition[l(i)])),size:"small"},{default:a(()=>[e(f,{size:"small"},{default:a(()=>[e(l(z))]),_:1})]),_:1})]),v(e(Z,{data:l(o).condition[l(i)].regex,draggable:"","allow-drop":J,"allow-drag":W,"empty-text":""},{default:a(({node:s,data:n,index:r})=>[p("div",Ue,[e(O,{class:E(n===l(F)?"active":""),onMousedown:N($=>P(n),["stop"])},{default:a(()=>[p("div",ze,[e(h,{type:"danger",plain:"",text:"",class:"dangerBtn",size:"small"},{default:a(()=>[e(f,{size:"small"},{default:a(()=>[e(l(T),{onClick:$=>q(l(o).condition[l(i)].regex,r)},null,8,["onClick"])]),_:2},1024)]),_:2},1024),e(h,{type:"primary",plain:"",text:"",class:"addBtn",size:"small"},{default:a(()=>[e(f,{size:"small",onClick:$=>k(l(o).condition[l(i)].regex,"regex",Y(l(o).condition[l(i)].regex,n))},{default:a(()=>[e(l(z))]),_:2},1032,["onClick"])]),_:2},1024),Ce,e(L,{ref:"ruleFormRef",model:X,"status-icon":"",rules:S,"label-width":"",class:"demo-ruleForm"},{default:a(()=>[e(u,{gutter:20},{default:a(()=>[e(c,{span:6},{default:a(()=>[e(m,{label:"field",prop:"pass"},{default:a(()=>[e(M,{modelValue:n.field,"onUpdate:modelValue":$=>n.field=$,placeholder:"regexSelect"},{default:a(()=>[(U(),B(K,null,G(ie,$=>e(D,{key:$,label:$,value:$},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(c,{span:9},{default:a(()=>[e(m,{label:"expression",prop:"checkPass"},{default:a(()=>[e(y,{modelValue:n.expression,"onUpdate:modelValue":$=>n.expression=$,onSelectstart:_e,type:"text",autocomplete:"off"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(c,{span:3},{default:a(()=>[e(m,{label:"inline",prop:"checkPass"},{default:a(()=>[e(R,{modelValue:n.inline,"onUpdate:modelValue":$=>n.inline=$,class:"ml-2"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(c,{span:6},{default:a(()=>[e(m,{label:"description",prop:"checkPass"},{default:a(()=>[e(y,{modelValue:n.description,"onUpdate:modelValue":$=>n.description=$,type:"text",autocomplete:"off"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["model","rules"])])]),_:2},1032,["class","onMousedown"])])]),_:1},8,["data"]),[[b,d.value.regex]])],512),[[b,l(o).condition[l(i)].field==="regex"]]),p("div",Fe,[Be,e(f,{onClick:t[11]||(t[11]=s=>d.value.action=!d.value.action)},{default:a(()=>[v(e(l(H),null,null,512),[[b,!d.value.action]]),v(e(l(j),null,null,512),[[b,d.value.action]])]),_:1}),e(h,{type:"primary",plain:"",text:"",class:"labelAdd",onClick:t[12]||(t[12]=s=>k(l(o).condition[l(i)].action,"action",l(o).condition[l(i)])),size:"small"},{default:a(()=>[e(f,{size:"small"},{default:a(()=>[e(l(z))]),_:1})]),_:1})]),v(e(Z,{data:l(o).condition[l(i)].action,draggable:"","allow-drop":J,"allow-drag":W,"empty-text":""},{default:a(({node:s,data:n})=>[p("div",Se,[e(O,{class:E(n===l(F)?"active":""),onMousedown:N(r=>P(n),["stop"])},{default:a(()=>[p("div",qe,[e(h,{type:"danger",plain:"",text:"",class:"dangerBtn",size:"small"},{default:a(()=>[e(f,{size:"small"},{default:a(()=>[e(l(T),{onClick:r=>q(l(o).condition[l(i)].action,n)},null,8,["onClick"])]),_:2},1024)]),_:2},1024),e(h,{type:"primary",plain:"",text:"",class:"addBtn",size:"small"},{default:a(()=>[e(f,{size:"small",onClick:r=>k(l(o).condition[l(i)].action,"action",Y(l(o).condition[l(i)].action,n))},{default:a(()=>[e(l(z))]),_:2},1032,["onClick"])]),_:2},1024),Pe,e(L,{ref:"ruleFormRef",model:X,"status-icon":"",rules:S,"label-width":"",class:"demo-ruleForm"},{default:a(()=>[e(u,{gutter:20},{default:a(()=>[e(c,{span:6},{default:a(()=>[e(m,{label:"application",prop:"pass"},{default:a(()=>[e(y,{modelValue:n.application,"onUpdate:modelValue":r=>n.application=r,type:"text",autocomplete:"off",onFocus:V,onBlur:w},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(c,{span:9,style:{flex:"1"}},{default:a(()=>[e(m,{label:"data",prop:"checkPass"},{default:a(()=>[e(y,{modelValue:n.data,"onUpdate:modelValue":r=>n.data=r,type:"text",autocomplete:"off",onFocus:V,onBlur:w},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(c,{span:3},{default:a(()=>[e(m,{label:"inline",prop:"checkPass"},{default:a(()=>[e(R,{modelValue:n.inline,"onUpdate:modelValue":r=>n.inline=r,class:"ml-2"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(c,{span:6},{default:a(()=>[e(m,{label:"description",prop:"checkPass"},{default:a(()=>[e(y,{modelValue:n.description,"onUpdate:modelValue":r=>n.description=r,type:"text",autocomplete:"off",onFocus:V,onBlur:w},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["model","rules"])])]),_:2},1032,["class","onMousedown"])])]),_:1},8,["data"]),[[b,d.value.action]]),p("div",Re,[De,e(f,{onClick:t[13]||(t[13]=s=>d.value["anti-action"]=!d.value["anti-action"])},{default:a(()=>[v(e(l(H),null,null,512),[[b,!d.value["anti-action"]]]),v(e(l(j),null,null,512),[[b,d.value["anti-action"]]])]),_:1}),e(h,{type:"primary",plain:"",text:"",class:"labelAdd",onClick:t[14]||(t[14]=s=>k(l(o).condition[l(i)]["anti-action"],"anti-action",l(o).condition[l(i)])),size:"small"},{default:a(()=>[e(f,{size:"small"},{default:a(()=>[e(l(z))]),_:1})]),_:1})]),v(e(Z,{data:l(o).condition[l(i)]["anti-action"],draggable:"","allow-drop":J,"allow-drag":W,"empty-text":""},{default:a(({node:s,data:n})=>[p("div",Me,[e(O,{class:E(n===l(F)?"active":""),onMousedown:N(r=>P(n),["stop"])},{default:a(()=>[p("div",Le,[e(h,{type:"danger",plain:"",text:"",class:"dangerBtn",size:"small"},{default:a(()=>[e(f,{size:"small"},{default:a(()=>[e(l(T),{onClick:r=>q(l(o).condition[l(i)]["anti-action"],n)},null,8,["onClick"])]),_:2},1024)]),_:2},1024),e(h,{type:"primary",plain:"",text:"",class:"addBtn",size:"small"},{default:a(()=>[e(f,{size:"small",onClick:r=>k(l(o).condition[l(i)]["anti-action"],"action",Y(l(o).condition[l(i)]["anti-action"],n))},{default:a(()=>[e(l(z))]),_:2},1032,["onClick"])]),_:2},1024),Oe,e(L,{ref:"ruleFormRef",model:X,"status-icon":"",rules:S,"label-width":"",class:"demo-ruleForm"},{default:a(()=>[e(u,{gutter:20},{default:a(()=>[e(c,{span:6},{default:a(()=>[e(m,{label:"application",prop:"pass"},{default:a(()=>[e(y,{modelValue:n.application,"onUpdate:modelValue":r=>n.application=r,type:"text",autocomplete:"off",onFocus:V,onBlur:w},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(c,{span:9},{default:a(()=>[e(m,{label:"data",prop:"checkPass"},{default:a(()=>[e(y,{modelValue:n.data,"onUpdate:modelValue":r=>n.data=r,type:"text",autocomplete:"off",onFocus:V,onBlur:w},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(c,{span:3},{default:a(()=>[e(m,{label:"inline",prop:"checkPass"},{default:a(()=>[e(R,{modelValue:n.inline,"onUpdate:modelValue":r=>n.inline=r,class:"ml-2"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(c,{span:6},{default:a(()=>[e(m,{label:"description",prop:"checkPass"},{default:a(()=>[e(y,{modelValue:n.description,"onUpdate:modelValue":r=>n.description=r,type:"text",autocomplete:"off",onFocus:V,onBlur:w},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["model","rules"])])]),_:2},1032,["class","onMousedown"])])]),_:1},8,["data"]),[[b,d.value["anti-action"]]])]),_:1},8,["rules"]),[[b,d.value.condition]])]),_:1},8,["class"])]),_:1})])}}});const Ke=ve(Ee,[["__scopeId","data-v-833eae2e"]]);export{Ke as default};
