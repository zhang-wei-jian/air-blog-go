import{a_ as o,a$ as r,bk as t,ax as i,aT as u}from"./index-8391854f.js";const a=o.create({baseURL:"/port",headers:{afflicode:"  ","Content-Type":"application/json"}});a.interceptors.request.use(function(s){s.headers.sssssssssssss="sssssssss";const e=localStorage.getItem("token")||r();if(e){const n=s.url.includes("?")?"&":"?";s.url+=`${n}token=${encodeURIComponent(e)}`}return t.start(),s},function(s){alert("错误访问",s)});a.interceptors.response.use(function(s){return t.done(),s.data},function(s){const e=s.response.data.error;s.response.status===401&&(i("token过期,请重新登录"+JSON.stringify(e)),u().logOut()),s.response.status===403&&alert("禁止访问"),s.response.status===404&&alert("错误访问"),s.response.status===5e3&&alert("服务器出错"),alert(e),t.done()});export{a as i};
