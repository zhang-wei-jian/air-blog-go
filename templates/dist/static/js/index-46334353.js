import{d as H,n as l,aD as O,P,r as _,o as b,c as j,i as h,j as i,h as c,z as w,f as d,e as p,g as u,aI as J,_ as K}from"./index-8391854f.js";const T={class:"treePopContent"},z={class:""},U={class:"header"},q={class:"treeArr"},F={class:"custom-tree-node"},G={class:"bottom"},L={style:{color:"red"}},M=H({__name:"index",props:{data:{}},emits:["change","submit"],setup(N,{emit:g}){const V=N,o=l([]),{data:n}=O(V),s=l();n.value&&(s.value=JSON.parse(JSON.stringify(n.value))),function(){o.value=[],s.value||(s.value=[]),Array.isArray(s.value)||(s.value=s.value.split(",")),o.value=s.value.map(t=>({label:t})),P(o,()=>{g("change",o.value.map(t=>t.label))},{deep:!0})}(),l(),l();const f=l("");function R(t,e,a){return a!=="inner"}const m=l(),y=l(),v=l(),k=()=>{var t,e;v.value=!0,v.value=void 0,(e=(t=d(y).popperRef)==null?void 0:t.delayHide)==null||e.call(t)};l(!1);const $=async t=>{v.value=void 0},S=t=>{},x=t=>{if(f.value.trim()==="")return;const e={label:f.value};o.value.push(e),f.value=""},A=t=>{const e=o.value.filter(a=>a!==t);o.value=e},B=t=>{const e=o.value.map(a=>a.label);v.value=!1,g("submit",e)};return(t,e)=>{const a=_("el-button"),D=_("el-input"),I=_("el-tree"),E=_("el-popover");return b(),j("div",T,[s.value.length?(b(),h(a,{key:0,ref_key:"buttonRef",ref:m,onClick:k,class:"arrName"},{default:i(()=>[c(w(d(n)),1)]),_:1},512)):(b(),h(a,{key:1,ref_key:"buttonRef",ref:m,onClick:k,class:"arrName",smail:""},{default:i(()=>[c("点击添加")]),_:1},512)),p(E,{ref_key:"popoverRef",ref:y,visible:v.value,"virtual-ref":m.value,trigger:"click","virtual-triggering":"",width:280,placement:"left",onShow:e[5]||(e[5]=r=>$(d(n))),onHide:e[6]||(e[6]=r=>S(d(n)))},{default:i(()=>[u("div",z,[u("div",U,[p(D,{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=r=>f.value=r),onKeyup:e[1]||(e[1]=J(r=>x(d(n)),["enter"]))},null,8,["modelValue"]),p(a,{onClick:e[2]||(e[2]=r=>x(d(n)))},{default:i(()=>[c("添加")]),_:1})]),p(I,{data:o.value,draggable:"","allow-drop":R},{default:i(({node:r,data:C})=>[u("div",q,[u("span",F,[u("div",null,w(C.label),1),u("div",null,[p(a,{smail:"",onClick:Q=>A(C),type:"danger",plain:"",style:{height:"20px",width:"20px",margin:"0 9px"}},{default:i(()=>[c("x")]),_:2},1032,["onClick"])])])])]),_:1},8,["data"]),u("div",G,[p(a,{type:"primary",onClick:e[3]||(e[3]=r=>B(d(n))),plain:""},{default:i(()=>[c("确定")]),_:1}),u("div",L,[p(a,{onClick:e[4]||(e[4]=r=>v.value=!1),type:"danger",plain:""},{default:i(()=>[c("取消")]),_:1})])])])]),_:1},8,["visible","virtual-ref"])])}}});const X=K(M,[["__scopeId","data-v-bdcae8e4"]]);export{X as E};
