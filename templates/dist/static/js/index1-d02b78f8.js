import{useRole as W}from"./hook-d3b26160.js";import{A as X,D as Y,P as Z}from"./add-circle-line-c3a03ea3.js";import{u as c}from"./hooks-ec8eac7d.js";import{E as ee}from"./edit-pen-af58ba35.js";import{d as le}from"./search-cc37b371.js";import{R as oe}from"./refresh-74425c09.js";import{_ as ae}from"./edit.vue_vue_type_style_index_0_lang-2c5980db.js";import{d as ne,n as g,r as i,o as te,c as de,g as F,e as l,j as n,f as e,h as u,K as ie,F as re,_ as ue}from"./index-8391854f.js";import"./useArrConversionMapObj-53d04e92.js";import"./useRowConversionTree-f86c56ba.js";import"./useRowState-f0ac559e.js";import"./APIcallLine-15ecf2b5.js";import"./epTheme-4740f7cd.js";import"./index-7545bf4b.js";import"./MyAutocomplete.vue_vue_type_script_setup_true_lang-0b0173c6.js";const me={width:1024,height:1024,body:'<path fill="currentColor" d="M176 416a112 112 0 1 1 0 224a112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224a112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224a112 112 0 0 1 0-224z"/>'},se=me,pe={class:"main"},fe={class:"dialog-footer"},_e=ne({name:"Role",__name:"index1",setup(ce){const C=g();let v=g(0),y=g(null);const P=(m,o)=>{debugger;y.value=o,v.value=1},{loading:h,columns:S,dataList:I,pagination:z,buttonClass:be,onSearch:U,resetForm:D,handleUpdate:Ve,handleDelete:L,handleSizeChange:M,handleCurrentChange:N,handleSelectionChange:O,addCallLineForm:t,searchForm:p,addCallLineClick:T,formRules:A,addCallLineFormRef:w,dialogFormVisible:_}=W();return(m,o)=>{const r=i("el-input"),d=i("el-form-item"),s=i("el-option"),b=i("el-select"),f=i("el-button"),R=i("el-form"),B=i("el-popconfirm"),E=i("pure-table"),V=i("el-input-number"),k=i("el-text"),G=i("IconifyIconOffline"),H=i("el-switch"),j=i("el-collapse-item"),K=i("el-collapse"),q=i("el-dialog");return te(),de(re,null,[F("div",pe,[l(R,{ref_key:"searchFormRef",ref:C,inline:!0,model:e(p),class:"bg-bg_color w-[99/100] pl-8 pt-4"},{default:n(()=>[l(d,{label:"账号名称：",prop:"name"},{default:n(()=>[l(r,{modelValue:e(p).name,"onUpdate:modelValue":o[0]||(o[0]=a=>e(p).name=a),placeholder:"请输入账号名称",clearable:"",class:"!w-[200px]"},null,8,["modelValue"])]),_:1}),l(d,{label:"线路标识：",prop:"code"},{default:n(()=>[l(r,{modelValue:e(p).caller,"onUpdate:modelValue":o[1]||(o[1]=a=>e(p).caller=a),placeholder:"请输入线路标识",clearable:"",class:"!w-[180px]"},null,8,["modelValue"])]),_:1}),l(d,{label:"状态：",prop:"status"},{default:n(()=>[l(b,{modelValue:e(p).status,"onUpdate:modelValue":o[2]||(o[2]=a=>e(p).status=a),placeholder:"请选择状态",clearable:"",class:"!w-[180px]"},{default:n(()=>[l(s,{label:"已开启",value:"1"}),l(s,{label:"已关闭",value:"0"})]),_:1},8,["modelValue"])]),_:1}),l(d,null,{default:n(()=>[l(f,{type:"primary",icon:e(c)(e(le)),loading:e(h),onClick:e(U)},{default:n(()=>[u(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),l(f,{icon:e(c)(e(oe)),onClick:o[3]||(o[3]=a=>e(D)(C.value))},{default:n(()=>[u(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),l(e(Z),{title:"线路列表",onRefresh:e(U)},{buttons:n(()=>[l(f,{type:"primary",icon:e(c)(e(X)),onClick:o[4]||(o[4]=a=>_.value=!0)},{default:n(()=>[u(" 新增线路 ")]),_:1},8,["icon"])]),default:n(({size:a,checkList:J})=>[l(E,{border:"","align-whole":"center",showOverflowTooltip:"","table-layout":"auto",loading:e(h),size:a,data:e(I),columns:e(S),checkList:J,pagination:e(z),paginationSmall:a==="small","header-cell-style":{background:"var(--el-table-row-hover-bg-color)",color:"var(--el-text-color-primary)"},onSelectionChange:e(O),onSizeChange:e(M),onCurrentChange:e(N)},{operation:n(({row:x,index:$})=>[l(f,{class:"reset-margin",link:"",type:"primary",size:a,icon:e(c)(e(ee)),onClick:Q=>P($,x)},{default:n(()=>[u(" 修改 ")]),_:2},1032,["size","icon","onClick"]),l(B,{title:"是否确认删除?",onConfirm:Q=>e(L)(x,$)},{reference:n(()=>[l(f,{class:"reset-margin",link:"",type:"primary",size:a,icon:e(c)(e(Y))},{default:n(()=>[u(" 删除 ")]),_:2},1032,["size","icon"])]),_:2},1032,["onConfirm"])]),_:2},1032,["loading","size","data","columns","checkList","pagination","paginationSmall","header-cell-style","onSelectionChange","onSizeChange","onCurrentChange"])]),_:1},8,["onRefresh"])]),l(q,{modelValue:e(_),"onUpdate:modelValue":o[22]||(o[22]=a=>ie(_)?_.value=a:null),title:m.编辑,width:"640px","align-center":"",center:""},{footer:n(()=>[F("span",fe,[l(f,{onClick:o[20]||(o[20]=a=>_.value=!1)},{default:n(()=>[u("取 消")]),_:1}),l(f,{type:"primary",onClick:o[21]||(o[21]=a=>e(T)(e(w)))},{default:n(()=>[u("确 定")]),_:1})])]),default:n(()=>[l(R,{ref_key:"addCallLineFormRef",ref:w,model:e(t),"label-width":"120px",rules:e(A)},{default:n(()=>[l(d,{label:"线路名称",prop:"name"},{default:n(()=>[l(r,{modelValue:e(t).name,"onUpdate:modelValue":o[5]||(o[5]=a=>e(t).name=a),placeholder:"请输入线路名称"},null,8,["modelValue"])]),_:1}),l(d,{label:"主叫号码",prop:"caller"},{default:n(()=>[l(r,{modelValue:e(t).caller,"onUpdate:modelValue":o[6]||(o[6]=a=>e(t).caller=a),placeholder:"请输入线主叫号码"},null,8,["modelValue"])]),_:1}),l(d,{label:"拨号串",prop:"dialstr"},{default:n(()=>[l(r,{modelValue:e(t).dialstr,"onUpdate:modelValue":o[8]||(o[8]=a=>e(t).dialstr=a),placeholder:"请输入拨号串",class:"input-with-select"},{append:n(()=>[l(b,{placeholder:"选择",style:{width:"80px"},onChange:o[7]||(o[7]=a=>{e(t).dialstr=a})},{default:n(()=>[l(s,{label:"sofia/gateway/网关名/${destination_number}",value:"sofia/gateway/网关名/${destination_number}"}),l(s,{label:"user/分机号",value:"user/分机号"}),l(s,{label:"sofia/external/${destination_number}@落地IP:落地PORT",value:"sofia/external/${destination_number}@落地IP:落地PORT"})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"呼叫间隔",prop:"rest"},{default:n(()=>[l(V,{modelValue:e(t).rest,"onUpdate:modelValue":o[9]||(o[9]=a=>e(t).rest=a),"controls-position":"right"},null,8,["modelValue"]),l(k,{truncated:""},{default:n(()=>[u("（单位：秒）")]),_:1})]),_:1}),l(d,{label:"音频编码"},{default:n(()=>[l(b,{modelValue:e(t).codec,"onUpdate:modelValue":o[10]||(o[10]=a=>e(t).codec=a),placeholder:"自动协商",multiple:"true"},{default:n(()=>[l(s,{label:"PCMU",value:"PCMU"}),l(s,{label:"PCMA",value:"PCMA"}),l(s,{label:"G729",value:"G729"})]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"呼叫并发",prop:"count"},{default:n(()=>[l(V,{modelValue:e(t).count,"onUpdate:modelValue":o[11]||(o[11]=a=>e(t).count=a),"controls-position":"right",onChange:m.handleChange},null,8,["modelValue","onChange"])]),_:1}),l(d,{label:"呼叫超时",prop:"timeout"},{default:n(()=>[l(V,{modelValue:e(t).timeout,"onUpdate:modelValue":o[12]||(o[12]=a=>e(t).timeout=a),"controls-position":"right"},null,8,["modelValue"]),l(k,{truncated:""},{default:n(()=>[u("（单位：秒）")]),_:1})]),_:1}),l(K,{accordion:"",modelValue:m.activeNames,"onUpdate:modelValue":o[19]||(o[19]=a=>m.activeNames=a),onChange:m.handleChange},{default:n(()=>[l(j,{name:"1"},{title:n(()=>[u(" 更多参数设置 "),l(G,{icon:e(se)},null,8,["icon"])]),default:n(()=>[l(d,{label:"失败阈值次数"},{default:n(()=>[l(r,{modelValue:e(t).fault_threshold,"onUpdate:modelValue":o[13]||(o[13]=a=>e(t).fault_threshold=a),placeholder:"失败阈值次数"},null,8,["modelValue"])]),_:1}),l(d,{label:"忽略彩铃"},{default:n(()=>[l(H,{modelValue:e(t).ignore_early_media,"onUpdate:modelValue":o[14]||(o[14]=a=>e(t).ignore_early_media=a),"active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),_:1}),l(d,{label:"坐席工号"},{default:n(()=>[l(r,{modelValue:e(t).employee_id,"onUpdate:modelValue":o[15]||(o[15]=a=>e(t).employee_id=a),placeholder:"请输入坐席工号"},null,8,["modelValue"])]),_:1}),l(d,{label:"最少计费时间"},{default:n(()=>[l(r,{modelValue:e(t).bill_least1s,"onUpdate:modelValue":o[16]||(o[16]=a=>e(t).bill_least1s=a),placeholder:"请输入最少计费时间"},null,8,["modelValue"])]),_:1}),l(d,{label:" 每秒计费精度"},{default:n(()=>[l(r,{modelValue:e(t).bill_round,"onUpdate:modelValue":o[17]||(o[17]=a=>e(t).bill_round=a),placeholder:"请输入每秒计费精度"},null,8,["modelValue"])]),_:1}),l(d,{label:" 按分钟上浮"},{default:n(()=>[l(r,{modelValue:e(t).bill_round_minute,"onUpdate:modelValue":o[18]||(o[18]=a=>e(t).bill_round_minute=a),placeholder:"请输入按分钟上浮"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","onChange"])]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]),l(ae,{selctionRow:e(y),visible:e(v),onHandleCloseVisiable:m.handleCloseVisiable,onUpData:m.upData},null,8,["selctionRow","visible","onHandleCloseVisiable","onUpData"])],64)}}});const ze=ue(_e,[["__scopeId","data-v-b6fb6d62"]]);export{ze as default};
